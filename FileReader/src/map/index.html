<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Map Visualization</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <style>
        #map {
            height: 500px;
        }

        /* Adjust map height */
    </style>
</head>

<body>
    <div id="map"></div>
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="path/to/your/script.js"></script>
</body>
<script>
    // Coordinates array - replace with your coordinates
    // const coordinates = [
    //     { lat: 40.7128, lng: -74.0060 }, // New York
    //     { lat: 39.9526, lng: -75.1652 }, // Philadelphia
    //     { lat: 38.9072, lng: -77.0369 }, // Washington, D.C.
    //     { lat: 37.7749, lng: -122.4194 }, // San Francisco
    //     { lat: 34.0522, lng: -118.2437 }  // Los Angeles
    // ];

    function convert(points) {
        const ret = []
        points.forEach(p => {
            ret.push({ lat: p[1], lng: p[0] })
        });
        return ret
    }

    const pathA = [[10.768615, 46.627432], [10.768615, 46.627432], [10.769068, 46.628003], [10.769068, 46.628003], [10.769097, 46.628001], [10.76952, 46.627887], [10.76952, 46.627887], [10.769579, 46.627856], [10.769579, 46.627856], [10.769806, 46.627614], [10.77048, 46.626302], [10.770845, 46.625776], [10.777832, 46.625385], [10.77829, 46.625415], [10.77829, 46.625415], [10.778401, 46.625453], [10.778425, 46.625484], [10.778425, 46.625484], [10.778679, 46.625624], [10.779978, 46.625979], [10.780502, 46.626075], [10.783135, 46.626079], [10.783232, 46.626079], [10.798055, 46.624919], [10.798055, 46.624919], [10.804035, 46.623113], [10.806371, 46.623023], [10.806842, 46.62289], [10.806842, 46.62289], [10.806966, 46.622805], [10.807226, 46.622855], [10.807256, 46.622897], [10.807256, 46.622897], [10.807678, 46.62295], [10.814366, 46.622058], [10.821697, 46.621036], [10.822031, 46.621035], [10.832028, 46.621228], [10.834144, 46.620559], [10.841921, 46.619465], [10.842301, 46.619575], [10.842686, 46.619683], [10.844147, 46.620126], [10.844147, 46.620126], [10.865357, 46.622162], [10.865357, 46.622162], [10.868433, 46.622526], [10.868433, 46.622526], [10.868581, 46.622429], [10.868849, 46.62266], [10.868849, 46.62266], [10.898895, 46.627913], [10.898895, 46.627913], [10.899427, 46.62791], [10.899764, 46.627811], [10.901251, 46.628094], [10.901454, 46.628184], [10.902303, 46.628322], [10.90346, 46.628328], [10.912567, 46.629265], [10.912894, 46.62931], [10.918768, 46.631758], [10.92045, 46.632604], [10.92346, 46.634128], [10.927921, 46.635415], [10.937984, 46.635593], [10.938592, 46.635611], [10.948302, 46.641018], [10.952769, 46.643041], [10.952769, 46.643041], [10.954993, 46.643481], [10.955963, 46.643937], [10.956616, 46.644306], [10.96919, 46.647046], [10.972113, 46.647129], [10.976236, 46.647629], [10.976865, 46.647681], [10.977633, 46.647707], [10.978012, 46.647711], [10.979777, 46.647872], [10.983811, 46.6485], [10.984981, 46.648617], [10.985623, 46.648713], [11.017136, 46.653169], [11.017136, 46.653169], [11.017149, 46.653124], [11.017384, 46.653001], [11.017707, 46.65321], [11.017707, 46.65321], [11.023359, 46.654143], [11.024547, 46.65468], [11.026336, 46.655581], [11.031948, 46.658299], [11.032044, 46.658343], [11.036694, 46.660424], [11.038077, 46.661036], [11.041766, 46.662673], [11.045844, 46.663992], [11.045844, 46.663992], [11.060079, 46.66935], [11.061049, 46.669911], [11.061406, 46.670035], [11.063387, 46.670473], [11.063525, 46.670491], [11.063608, 46.670501], [11.065409, 46.670526], [11.067411, 46.670701], [11.077984, 46.673992], [11.084206, 46.676958], [11.084537, 46.6772], [11.087992, 46.67891], [11.091827, 46.680117], [11.095862, 46.6805], [11.107964, 46.675695], [11.119065, 46.677932], [11.119337, 46.678028], [11.126092, 46.677903], [11.126092, 46.677903], [11.127868, 46.677027], [11.133934, 46.672661], [11.135811, 46.671225], [11.139423, 46.667586], [11.146683, 46.65642], [11.149087, 46.654082], [11.174305, 46.632201], [11.179699, 46.626867], [11.179797, 46.611417], [11.180939, 46.607211], [11.193698, 46.577654], [11.197882, 46.574095], [11.213669, 46.564816], [11.214929, 46.56356], [11.216435, 46.556828], [11.218389, 46.553145], [11.243807, 46.523756], [11.243807, 46.523756], [11.244557, 46.521985], [11.244557, 46.521985], [11.245138, 46.522156], [11.251821, 46.524279], [11.252245, 46.524682], [11.252245, 46.524682], [11.252612, 46.524669], [11.252612, 46.524669], [11.259641, 46.520215], [11.264397, 46.517531], [11.268842, 46.514477], [11.268842, 46.514477], [11.268873, 46.514461], [11.274231, 46.511058], [11.274517, 46.510725], [11.280606, 46.508361], [11.288062, 46.506906], [11.288062, 46.506906], [11.291684, 46.505629], [11.294578, 46.504655], [11.295623, 46.503937], [11.298985, 46.501602], [11.303709, 46.498318], [11.304489, 46.497762], [11.304557, 46.497719], [11.304557, 46.497719], [11.304777, 46.497783], [11.306732, 46.49873], [11.306832, 46.498845], [11.306882, 46.498855], [11.306882, 46.498855], [11.307107, 46.498512], [11.3077, 46.497757], [11.3077, 46.497757], [11.309599, 46.498285], [11.309599, 46.498285]]

    const coordinates = convert(pathA)

    // Initialize the map and set its view to the first coordinate in the array
    const map = L.map('map').setView([coordinates[0].lat, coordinates[0].lng], 5);

    // Add a tile layer (this example uses OpenStreetMap)
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        maxZoom: 18,
        attribution: 'Â© OpenStreetMap contributors'
    }).addTo(map);

    // Plot the start marker with a custom icon
    const startIcon = L.icon({
        iconUrl: 'https://leafletjs.com/examples/custom-icons/leaf-green.png', // Change URL to any custom icon you prefer
        iconSize: [38, 95],
        iconAnchor: [22, 94],
        popupAnchor: [-3, -76],
        shadowSize: [50, 64],
        shadowAnchor: [4, 62]
    });

    L.marker([coordinates[0].lat, coordinates[0].lng], { icon: startIcon })
        .addTo(map)
        .bindPopup(`Start: Latitude ${coordinates[0].lat}, Longitude ${coordinates[0].lng}`);

    // Plot the end marker with a different custom icon
    const endIcon = L.icon({
        iconUrl: 'https://leafletjs.com/examples/custom-icons/leaf-red.png', // Change URL to any custom icon you prefer
        iconSize: [38, 95],
        iconAnchor: [22, 94],
        popupAnchor: [-3, -76],
        shadowSize: [50, 64],
        shadowAnchor: [4, 62]
    });

    L.marker([coordinates[coordinates.length - 1].lat, coordinates[coordinates.length - 1].lng], { icon: endIcon })
        .addTo(map)
        .bindPopup(`End: Latitude ${coordinates[coordinates.length - 1].lat}, Longitude ${coordinates[coordinates.length - 1].lng}`);

    // Extract latitude and longitude pairs from the coordinates array to create a polyline
    const latLngs = coordinates.map(coord => [coord.lat, coord.lng]);

    // Create a polyline connecting all coordinates
    L.polyline(latLngs, { color: 'blue', weight: 5, opacity: 0.7 })
        .addTo(map);


</script>

</html>